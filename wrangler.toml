name = "portfolio"
main = ".svelte-kit/cloudflare/_worker.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Enable workers.dev subdomain
workers_dev = true

# Custom domain route (commented out until domain is configured)
route = "erhathaway.com/*"

[vars]
ENVIRONMENT = "production"
PUBLIC_CLERK_PUBLISHABLE_KEY = "pk_test_cG9zaXRpdmUtd29tYmF0LTUyLmNsZXJrLmFjY291bnRzLmRldiQ"
PUBLIC_R2_BASE_URL = "https://your-cdn.example.com"

# Add CLERK_SECRET_KEY as a secret (use: wrangler secret put CLERK_SECRET_KEY)

[[d1_databases]]
binding = "DB"
database_name = "portfolio-db"
database_id = "4878e4eb-3391-4401-93cd-9c6f91897a14"

[[r2_buckets]]
binding = "ARTIFACTS"
bucket_name = "portfolio-artifacts"

[assets]
directory = ".svelte-kit/cloudflare"
binding = "ASSETS"

[build]
command = "bun run build"
